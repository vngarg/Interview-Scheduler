(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),i=n(19),o=n(9),l=n(8),u=n(110),j=n(109),d=n(2),h=function(){var e=Object(o.g)(),t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){c(localStorage.getItem("token"))}),[]);return Object(d.jsxs)(u.a,{bg:"dark",variant:"dark",children:[Object(d.jsx)(u.a.Brand,{href:"#home",children:"Interview Scheduler"}),r?Object(d.jsx)(j.a,{className:"ml-auto",children:Object(d.jsx)(j.a.Link,{onClick:function(){localStorage.clear(),e.push("/login")},children:"Logout"})}):null]})},b=n(108),O=n(111),m=n(107),x=function(e){return Object(d.jsx)("h1",{className:"text-center m-5",children:e.subHeading})},g=n(106),f=n(59),p=function(e){return Object(d.jsx)(b.a.Group,{children:Object(d.jsxs)(g.a,{className:"mb-2",children:[Object(d.jsx)(g.a.Prepend,{children:Object(d.jsx)(g.a.Text,{children:e.text})}),Object(d.jsx)(f.a,{type:e.type,placeholder:e.placeholder,onChange:e.onChange,value:e.value?e.value:null})]})})},v=(n(74),function(e){return Object(d.jsx)("span",{onClick:e.onTouch,className:"touchAble",children:e.text})}),w="http://localhost:5000",S=function(){var e=Object(o.g)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),u=i[0],j=i[1],g=Object(a.useState)(),f=Object(l.a)(g,2),S=f[0],E=f[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsx)(x,{subHeading:"Login"}),Object(d.jsxs)("div",{className:"d-flex align-items-center flex-column text-center mt-5",children:[Object(d.jsxs)(b.a,{className:"w-50",children:[Object(d.jsx)(p,{type:"email",placeholder:"Enter email",onChange:function(e){return c(e.target.value)},text:"Email"}),Object(d.jsx)(p,{type:"password",placeholder:"Enter password",onChange:function(e){return j(e.target.value)},text:"Password"}),S?Object(d.jsx)(O.a,{variant:"danger",children:S}):null,Object(d.jsx)(m.a,{variant:"primary",onClick:function(){var t={email:r,password:u};E(""),(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)?0!==u.length||(E("Password is required."),0):(E("Invalid Email"),0))&&fetch("".concat(w,"/authentication/login"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 404===e.status||400===e.status?(E("Email or Password are Incorrect."),Error("Email or Password are Incorrect.")):Error("Error")})).then((function(t){localStorage.setItem("role",t.data.role),localStorage.setItem("token",t.data.jwtToken),localStorage.setItem("email",t.data.email),localStorage.setItem("fullName",t.data.fullName),e.push("/home")})).catch((function(e){return console.log(e)}))},children:"Submit"})]}),Object(d.jsxs)("div",{className:"m-2",children:["Don't have an account? \xa0",Object(d.jsx)(v,{text:"Signup",onTouch:function(){return e.push("/signup")}})]})]})]})},E=(n(60),n(75),function(){var e=Object(o.g)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),u=i[0],j=i[1],g=Object(a.useState)(""),f=Object(l.a)(g,2),S=f[0],E=f[1],N=Object(a.useState)("user"),y=Object(l.a)(N,2),I=y[0],T=(y[1],Object(a.useState)("")),C=Object(l.a)(T,2),P=C[0],k=C[1],z=Object(a.useState)(""),A=Object(l.a)(z,2),U=A[0],L=A[1],B=Object(a.useState)(""),D=Object(l.a)(B,2),H=D[0],J=D[1],M=Object(a.useState)(),G=Object(l.a)(M,2),Y=G[0],_=G[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsx)(x,{subHeading:"Signup"}),Object(d.jsxs)("div",{className:"d-flex align-items-center flex-column text-center mt-5",children:[Object(d.jsxs)(b.a,{className:"w-50",children:[Object(d.jsx)(p,{type:"text",placeholder:"Enter Full Name",onChange:function(e){return c(e.target.value)},text:"FullName"}),Object(d.jsx)(p,{type:"email",placeholder:"Enter email",onChange:function(e){return k(e.target.value)},text:"Email"}),Object(d.jsx)(p,{type:"password",placeholder:"Enter password",onChange:function(e){return L(e.target.value)},text:"Password"}),Object(d.jsx)(p,{type:"password",placeholder:"Enter password",onChange:function(e){return J(e.target.value)},text:"Confirm Pasword"}),Object(d.jsx)(p,{type:"number",placeholder:"Enter Contact Number",onChange:function(e){return j(e.target.value)},text:"Mobile No."}),Object(d.jsx)(p,{type:"text",placeholder:"Enter your College Name",onChange:function(e){return E(e.target.value)},text:"College"}),Y?Object(d.jsx)(O.a,{variant:"danger",children:Y}):null,Object(d.jsx)(m.a,{variant:"primary",onClick:function(){var t={fullName:r,college:S,role:I,contactNumber:u,email:P,password:U};_(""),(0===r.length?(_("Name is required."),0):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(P)?0===U.length?(_("Password is required."),0):0===H.length?(_("Confirm the Passwords"),0):10!==u.length?(_("Invalid Contact Number"),0):U!==H?(_("Password's don't match."),0):0!==S.length||(_("Enter your College Name."),0):(_("Invalid Email"),0))&&fetch("".concat(w,"/authentication/signup"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 404===e.status||400===e.status?(_("Some values are missing. Please fill carefully."),Error("Some values are missing. Please fill carefully.")):422===e.status?(_("User already registered. Please Login."),Error("User already registered. Please Login.")):Error("Error")})).then((function(t){e.push("/login")})).catch((function(e){return console.log(e)}))},children:"Submit"})]}),Object(d.jsxs)("div",{className:"m-2",children:["Already have an account? \xa0",Object(d.jsx)(v,{text:"Login",onTouch:function(){return e.push("/login")}})]})]})]})}),N=n(34),y=n(61),I=n.n(y),T=n(112),C=function(e){var t=e.substring(0,4),n=e.substring(8,10),a=e.substring(5,7);return"01"===a?a="January":"02"===a?a="February":"03"===a?a="March":"04"===a?a="April":"05"===a?a="May":"06"===a?a="June":"07"===a?a="July":"08"===a?a="August":"09"===a?a="September":"10"===a?a="October":"11"===a?a="November":"12"===a&&(a="December"),"".concat(n," ").concat(a," ").concat(t)},P=function(e){var t=e.substring(11,13),n=e.substring(14,16);return"".concat(t,":").concat(n)},k=function(e){var t=Object(o.g)(),n=Object(a.useState)({role:localStorage.getItem("role"),loading:!0,meetings:[]}),r=Object(l.a)(n,2),c=r[0],s=r[1],i=function(){fetch("".concat(w,"/interview/getAllInterviews"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 401===e.status?(alert("You are not authorized to get the meeting details."),Error("Unautorized")):(alert("Error"),Error("Error"))})).then((function(e){s(Object(N.a)(Object(N.a)({},c),{},{loading:!1,meetings:e.data}))})).catch((function(e){s(Object(N.a)(Object(N.a)({},c),{},{loading:!1})),console.log(e)}))};Object(a.useEffect)((function(){"admin"===c.role&&i()}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),"admin"===c.role?c.loading?Object(d.jsx)(I.a,{}):0===c.meetings.length?Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h2",{className:"text-center m-5",children:"No meeting Scheduled"}),Object(d.jsx)(m.a,{variant:"primary",onClick:function(){return t.push("/addInterview")},children:"Schedule Meeting"})]}):Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(x,{subHeading:"Scheduled Meetings"}),Object(d.jsx)(m.a,{variant:"primary",onClick:function(){return t.push("/addInterview")},children:"Schedule Meeting"}),Object(d.jsx)("div",{className:"d-flex direction-row flex-wrap justify-content-center",children:c.meetings.map((function(e,n){return Object(d.jsxs)(T.a,{className:"m-4 shadow-lg",children:[Object(d.jsx)(T.a.Header,{children:e.title}),Object(d.jsxs)(T.a.Body,{children:[Object(d.jsxs)(T.a.Title,{children:["Participants: ",e.participants.length]}),Object(d.jsxs)(T.a.Text,{children:[C(e.startTime)," (",P(e.startTime),") ",Object(d.jsx)("strong",{children:"-"})," ",C(e.endTime)," (",P(e.endTime),")"]}),Object(d.jsx)(m.a,{onClick:function(){return t.push("/editInterview",{meeting:e})},variant:"primary",className:"mr-2",children:"Edit"}),Object(d.jsx)(m.a,{variant:"danger",onClick:function(){return(t=e)._id,t.interviewId,t.participants,void fetch("".concat(w,"/interview/deleteInterview?_id=").concat(t._id,"&interviewId=").concat(t.interviewId,"&participants[]=").concat(t.participants),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 401===e.status?(alert("You are not authorized to delete the meeting. Try Logging In again."),Error("Unautorized")):(alert("Error"),Error("Error"))})).then((function(e){alert("Interview Deleted."),i()})).catch((function(e){return console.log(e)}));var t},children:"Delete"})]})]},n)}))})]}):Object(d.jsx)("div",{children:"Get all the meetings"})]})},z=n(62),A=n(29),U=n.n(A),L=Object(o.h)((function(e){var t=Object(o.g)(),n=Object(a.useState)(),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(e.location.state.meeting.title),u=Object(l.a)(i,2),j=u[0],f=u[1],v=Object(a.useState)(),S=Object(l.a)(v,2),E=S[0],N=S[1],y=Object(a.useState)(),I=Object(l.a)(y,2),C=I[0],P=I[1],k=Object(a.useState)(e.location.state.meeting.participants),A=Object(l.a)(k,2),L=A[0],B=(A[1],Object(a.useState)([])),D=Object(l.a)(B,2),H=D[0],J=D[1];Object(a.useEffect)((function(){L.map((function(e){fetch("".concat(w,"/users/getUser?_id=").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 404===e.status||400===e.status?(alert("User not found"),Error("User not found")):401===e.status?(alert("You are not authorized to perform this action. Please Login again."),Error("Unauthorized")):Error("Error")})).then((function(e){J([].concat(Object(z.a)(H),[e.data]))})).catch((function(e){return console.log(e)}))}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsx)(x,{subHeading:"Edit the Interview"}),Object(d.jsx)("div",{className:"d-flex align-items-center flex-column text-center mt-5",children:Object(d.jsxs)(b.a,{className:"w-50",children:[Object(d.jsx)(p,{type:"text",placeholder:"Title of the Interview",onChange:function(e){return f(e.target.value)},text:"Title",value:j}),Object(d.jsx)(b.a.Group,{children:Object(d.jsxs)(g.a,{className:"mb-2",children:[Object(d.jsx)(g.a.Prepend,{children:Object(d.jsx)(g.a.Text,{children:"Start Time"})}),Object(d.jsx)(U.a,{onChange:function(e){return N(e)},value:E})]})}),Object(d.jsx)(b.a.Group,{children:Object(d.jsxs)(g.a,{className:"mb-2",children:[Object(d.jsx)(g.a.Prepend,{children:Object(d.jsx)(g.a.Text,{children:"End Time"})}),Object(d.jsx)(U.a,{onChange:function(e){return P(e)},value:C})]})}),Object(d.jsx)("div",{className:"d-flex direction-row flex-wrap",children:H.map((function(e){return Object(d.jsxs)(T.a,{className:"m-3 shadow-lg",children:[Object(d.jsx)(T.a.Header,{children:e.fullName}),Object(d.jsxs)(T.a.Body,{children:[Object(d.jsx)(T.a.Text,{children:e.email}),Object(d.jsx)(T.a.Text,{children:e.contactNumber})]})]})}))}),c?Object(d.jsx)(O.a,{variant:"danger",children:c}):null,Object(d.jsx)(m.a,{variant:"primary",onClick:function(){s(""),(E&&C?0!==j.length||(s("Title cannot be empty"),0):(s("Time is required"),0))&&fetch("".concat(w,"/interview/updateInterview?title=").concat(j,"&startTime=").concat(E,"&endTime=").concat(C,"&interviewId=").concat(e.location.state.meeting.interviewId,"&_id=").concat(e.location.state.meeting._id),{method:"PATCH",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 404===e.status||400===e.status?(s("Invalid Data"),Error("Invalid Data.")):401===e.status?(s("You are not authorized to perform this action. Please Login again."),Error("Unauthorized")):Error("Error")})).then((function(e){alert("Interview updated"),t.push("/home")})).catch((function(e){return console.log(e)}))},children:"Update"})]})})]})})),B=Object(o.h)((function(e){var t=Object(o.g)(),n=Object(a.useState)(),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),u=Object(l.a)(i,2),j=u[0],f=u[1],v=Object(a.useState)(new Date),S=Object(l.a)(v,2),E=S[0],N=S[1],y=Object(a.useState)(new Date),I=Object(l.a)(y,2),C=I[0],P=I[1],k=Object(a.useState)([]),z=Object(l.a)(k,2),A=z[0],L=z[1],B=Object(a.useState)([]),D=Object(l.a)(B,2),H=D[0],J=D[1];Object(a.useEffect)((function(){fetch("".concat(w,"/users/getAllUsers"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 404===e.status||400===e.status?(alert("No user."),Error("No user.")):401===e.status?(alert("You are not authorized to perform this action. Please Login again."),Error("Unauthorized")):Error("Error")})).then((function(e){L(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsx)(x,{subHeading:"Schedule a new Interview"}),Object(d.jsx)("div",{className:"d-flex align-items-center flex-column text-center mt-5",children:Object(d.jsxs)(b.a,{className:"w-50",children:[Object(d.jsx)(p,{type:"text",placeholder:"Title of the Interview",onChange:function(e){return f(e.target.value)},text:"Title",value:j}),Object(d.jsx)(b.a.Group,{children:Object(d.jsxs)(g.a,{className:"mb-2",children:[Object(d.jsx)(g.a.Prepend,{children:Object(d.jsx)(g.a.Text,{children:"Start Time"})}),Object(d.jsx)(U.a,{onChange:function(e){return N(e)},value:E})]})}),Object(d.jsx)(b.a.Group,{children:Object(d.jsxs)(g.a,{className:"mb-2",children:[Object(d.jsx)(g.a.Prepend,{children:Object(d.jsx)(g.a.Text,{children:"End Time"})}),Object(d.jsx)(U.a,{onChange:function(e){return P(e)},value:C})]})}),Object(d.jsx)("select",{className:"m-4",onChange:function(e){return function(e){L(A.filter((function(t){return t.email!==e})));var t=H.concat(A.filter((function(t){return t.email===e})));J(t)}(e.target.value)},children:A.map((function(e,t){return Object(d.jsx)("option",{value:e.email,children:e.fullName},t)}))}),Object(d.jsx)("div",{className:"d-flex direction-row flex-wrap",children:H.map((function(e,t){return Object(d.jsxs)(T.a,{className:"m-3 shadow-lg",children:[Object(d.jsx)(T.a.Header,{children:e.fullName}),Object(d.jsxs)(T.a.Body,{children:[Object(d.jsx)(T.a.Text,{children:e.email}),Object(d.jsx)(T.a.Text,{children:e.contactNumber})]})]},t)}))}),c?Object(d.jsx)(O.a,{variant:"danger",children:c}):null,Object(d.jsx)(m.a,{variant:"primary",onClick:function(){if(s(""),E&&C?0===j.length?(s("Title cannot be empty"),0):!(H.length<2)||(s("Atleast 2 people must be there in the meeting."),0):(s("Time is required"),0)){var e={title:j,startTime:E,endTime:C,participants:H};fetch("".concat(w,"/interview/newInterview"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if(200===e.status||201===e.status)return e.json();throw 404===e.status||400===e.status?(s("Invalid Data. Please recheck."),Error("Invalid Data.")):401===e.status?(s("You are not authorized to perform this action. Please Login again."),Error("Unauthorized")):Error("Error")})).then((function(e){alert("Interview created."),t.push("/home")})).catch((function(e){return console.log(e)}))}},className:"m-4",children:"Schedule"})]})})]})}));var D=function(){return Object(d.jsx)(i.a,{children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{path:"/login",children:Object(d.jsx)(S,{})}),Object(d.jsx)(o.b,{path:"/signup",children:Object(d.jsx)(E,{})}),Object(d.jsx)(o.b,{path:"/home",children:Object(d.jsx)(k,{})}),Object(d.jsx)(o.b,{path:"/editInterview",children:Object(d.jsx)(L,{})}),Object(d.jsx)(o.b,{path:"/addInterview",children:Object(d.jsx)(B,{})}),Object(d.jsx)(o.a,{to:"/login"})]})})};n(100);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))},74:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.3d169b4d.chunk.js.map